#pragma config(Sensor, S4,     ultra,          sensorEV3_Ultrasonic)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

task main()
{
	int degree;
	float angle = 150.0;
	float radius = 2.8;
	float axis = 12.0/2.0;

	int value = 0;
	degree = (int)(axis / radius * angle);
	
	
	while(true)
	{
		//GO RIGHT
	nMotorEncoder[motorB] = 0;
	nMotorEncoder[motorC] = 0;
	motor[motorB] = 50;
	motor[motorC] = 47;

	while(nMotorEncoder[motorB] <= 1900- value){ 
		//ultra
		if(SensorValue(ultra) < 15)
				break;
	}
	
	//INIT
	motor[motorB] = 0;
	motor[motorC] = 0;
	wait1Msec(500);
	
	//turn left
	resetMotorEncoder(motorB);
	resetMotorEncoder(motorC);
	
	setMotorTarget(motorB,-degree,10);
	setMotorTarget(motorC,degree,10);
	
	while(getMotorRunning(motorB)){}
	
	//GO RIGHT
	value = value + 100;
	nMotorEncoder[motorB] = 0;
	nMotorEncoder[motorC] = 0;
	motor[motorB] = 47;
	motor[motorC] = 50;

	while(nMotorEncoder[motorC] <= 1900- value){ 
		//ultra
			if(SensorValue(ultra) < 15)
					break;
	}
	
	//turnRight
	resetMotorEncoder(motorB);
	resetMotorEncoder(motorC);
	
	setMotorTarget(motorB,degree,10);
	setMotorTarget(motorC,-degree,10);
	
	while(getMotorRunning(motorC)){}
	}
}